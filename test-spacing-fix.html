<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è¡Œè·ä¿®å¤æµ‹è¯•</title>
    <link rel="stylesheet" href="static/css/styles.css">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 2rem;
            line-height: 1.6;
        }
        
        .test-section {
            margin: 2rem 0;
            padding: 1rem;
            border: 1px solid #e5e7eb;
            border-radius: 0.5rem;
        }
        
        .batch-indicator {
            background: #f3f4f6;
            padding: 0.5rem 1rem;
            margin: 1rem 0;
            border-radius: 0.25rem;
            font-weight: bold;
            color: #374151;
            text-align: center;
        }
        
        .add-content-btn {
            background: #3b82f6;
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 0.375rem;
            cursor: pointer;
            font-size: 0.875rem;
            margin: 0.5rem;
        }
        
        .add-content-btn:hover {
            background: #2563eb;
        }
        
        .fix-indicator {
            background: #dcfce7;
            border: 1px solid #bbf7d0;
            color: #166534;
            padding: 0.75rem;
            border-radius: 0.375rem;
            margin: 1rem 0;
        }
    </style>
</head>
<body>
    <h1>ğŸ”§ è¡Œè·ä¿®å¤æµ‹è¯•</h1>
    
    <div class="fix-indicator">
        âœ… <strong>ä¿®å¤å†…å®¹ï¼š</strong>
        <br>1. ç§»é™¤äº† new-content-block åŠ¨ç”»ç±»ä¸­çš„ transform: translateY å±æ€§ï¼Œç°åœ¨åªä½¿ç”¨ opacity è¿‡æ¸¡
        <br>2. ç»Ÿä¸€äº†åŠ¨æ€åˆ—è¡¨çš„CSSç±»ï¼Œä» my-4 æ”¹ä¸º prose-listï¼Œç¡®ä¿ä¸ prose æ ·å¼ä¸€è‡´
        <br>3. æ·»åŠ äº†è°ƒè¯•å·¥å…·ï¼Œå¯ä»¥åœ¨å®é™…é¡µé¢ä¸­æ£€æµ‹ç¬¬16-17å—é—´è·é—®é¢˜
        <br>4. åœ¨é¡µé¢ä¸­æ·»åŠ å³ä¸Šè§’çº¢è‰²"è°ƒè¯•é—´è·"æŒ‰é’®ï¼Œç‚¹å‡»å¯ä»¥çœ‹åˆ°æ¯ä¸ªå—çš„ç¼–å·å’Œé—´è·æµ‹é‡
    </div>
    
    <div class="test-section">
        <h2>æ¨¡æ‹Ÿæœ‰åºåˆ—è¡¨åˆ†æ‰¹åŠ è½½</h2>
        <p>ç‚¹å‡»æŒ‰é’®æ¨¡æ‹Ÿåˆ†æ‰¹åŠ è½½å†…å®¹ï¼Œè§‚å¯Ÿåˆ—è¡¨é¡¹ä¹‹é—´çš„é—´è·æ˜¯å¦æ­£å¸¸ï¼š</p>
        
        <button class="add-content-btn" onclick="addFirstBatch()">æ·»åŠ ç¬¬ä¸€æ‰¹ (1-3)</button>
        <button class="add-content-btn" onclick="addSecondBatch()">æ·»åŠ ç¬¬äºŒæ‰¹ (4-6)</button>
        <button class="add-content-btn" onclick="addThirdBatch()">æ·»åŠ ç¬¬ä¸‰æ‰¹ (7-9)</button>
        <button class="add-content-btn" onclick="resetTest()">é‡ç½®æµ‹è¯•</button>
        
        <div id="testContent"></div>
    </div>
    
    <div class="test-section">
        <h2>ä¿®å¤å‰åå¯¹æ¯”</h2>
        
        <h3>ä¿®å¤å‰çš„é—®é¢˜ï¼š</h3>
        <ul>
            <li>æ–°å†…å®¹æœ‰ <code>transform: translateY(20px)</code> åŠ¨ç”»</li>
            <li>åŠ¨ç”»æ‰§è¡ŒæœŸé—´ä¼šå½±å“å…ƒç´ çš„å‚ç›´ä½ç½®</li>
            <li>é€ æˆç¬¬ä¸€æ‰¹å’Œç¬¬äºŒæ‰¹å†…å®¹ä¹‹é—´çš„è§†è§‰é—´è·å¼‚å¸¸</li>
            <li>åˆ—è¡¨ç»­æ¥æ—¶å‡ºç°æ˜æ˜¾çš„æ–­å±‚æ„Ÿ</li>
        </ul>
        
        <h3>ä¿®å¤åçš„æ”¹è¿›ï¼š</h3>
        <ul>
            <li>ç§»é™¤äº†å½±å“å¸ƒå±€çš„ transform åŠ¨ç”»</li>
            <li>åªä¿ç•™ opacity è¿‡æ¸¡ï¼Œä¸å½±å“æ–‡æ¡£æµ</li>
            <li>æ‰€æœ‰æ¸²æŸ“å‡½æ•°ä½¿ç”¨ç»Ÿä¸€çš„åŠ¨ç”»é€»è¾‘</li>
            <li>å†…å®¹é—´è·ä¿æŒè‡ªç„¶å’Œä¸€è‡´</li>
        </ul>
    </div>

    <script>
        function addFirstBatch() {
            const content = document.getElementById('testContent');
            const batchDiv = document.createElement('div');
            batchDiv.innerHTML = `
                <div class="batch-indicator">ç¬¬ä¸€æ‰¹å†…å®¹</div>
                <ol class="my-4 list-decimal ml-6" start="1">
                    <li class="new-content-block">ç¬¬ä¸€ä¸ªåˆ—è¡¨é¡¹</li>
                    <li class="new-content-block">ç¬¬äºŒä¸ªåˆ—è¡¨é¡¹</li>
                    <li class="new-content-block">ç¬¬ä¸‰ä¸ªåˆ—è¡¨é¡¹</li>
                </ol>
            `;
            content.appendChild(batchDiv);
            
            // è§¦å‘åŠ¨ç”»
            setTimeout(() => {
                batchDiv.querySelectorAll('.new-content-block').forEach(el => {
                    el.classList.add('new-content-show');
                });
            }, 50);
        }
        
        function addSecondBatch() {
            const content = document.getElementById('testContent');
            const lastOl = content.querySelector('ol:last-of-type');
            
            if (lastOl) {
                // ç»­æ¥ç°æœ‰åˆ—è¡¨
                const newItems = `
                    <li class="new-content-block">ç¬¬å››ä¸ªåˆ—è¡¨é¡¹ï¼ˆç»­æ¥ï¼‰</li>
                    <li class="new-content-block">ç¬¬äº”ä¸ªåˆ—è¡¨é¡¹ï¼ˆç»­æ¥ï¼‰</li>
                    <li class="new-content-block">ç¬¬å…­ä¸ªåˆ—è¡¨é¡¹ï¼ˆç»­æ¥ï¼‰</li>
                `;
                lastOl.insertAdjacentHTML('beforeend', newItems);
                
                // æ·»åŠ æ‰¹æ¬¡æŒ‡ç¤ºå™¨
                const indicator = document.createElement('div');
                indicator.className = 'batch-indicator';
                indicator.textContent = 'ç¬¬äºŒæ‰¹å†…å®¹ï¼ˆç»­æ¥åˆ°ç°æœ‰åˆ—è¡¨ï¼‰';
                lastOl.insertAdjacentElement('afterend', indicator);
            } else {
                // å¦‚æœæ²¡æœ‰ç°æœ‰åˆ—è¡¨ï¼Œåˆ›å»ºæ–°çš„
                const batchDiv = document.createElement('div');
                batchDiv.innerHTML = `
                    <div class="batch-indicator">ç¬¬äºŒæ‰¹å†…å®¹</div>
                    <ol class="my-4 list-decimal ml-6" start="4">
                        <li class="new-content-block">ç¬¬å››ä¸ªåˆ—è¡¨é¡¹</li>
                        <li class="new-content-block">ç¬¬äº”ä¸ªåˆ—è¡¨é¡¹</li>
                        <li class="new-content-block">ç¬¬å…­ä¸ªåˆ—è¡¨é¡¹</li>
                    </ol>
                `;
                content.appendChild(batchDiv);
            }
            
            // è§¦å‘åŠ¨ç”»
            setTimeout(() => {
                content.querySelectorAll('.new-content-block:not(.new-content-show)').forEach(el => {
                    el.classList.add('new-content-show');
                });
            }, 50);
        }
        
        function addThirdBatch() {
            const content = document.getElementById('testContent');
            const lastOl = content.querySelector('ol:last-of-type');
            
            if (lastOl) {
                // ç»­æ¥ç°æœ‰åˆ—è¡¨
                const newItems = `
                    <li class="new-content-block">ç¬¬ä¸ƒä¸ªåˆ—è¡¨é¡¹ï¼ˆç»­æ¥ï¼‰</li>
                    <li class="new-content-block">ç¬¬å…«ä¸ªåˆ—è¡¨é¡¹ï¼ˆç»­æ¥ï¼‰</li>
                    <li class="new-content-block">ç¬¬ä¹ä¸ªåˆ—è¡¨é¡¹ï¼ˆç»­æ¥ï¼‰</li>
                `;
                lastOl.insertAdjacentHTML('beforeend', newItems);
                
                // æ·»åŠ æ‰¹æ¬¡æŒ‡ç¤ºå™¨
                const indicator = document.createElement('div');
                indicator.className = 'batch-indicator';
                indicator.textContent = 'ç¬¬ä¸‰æ‰¹å†…å®¹ï¼ˆç»­æ¥åˆ°ç°æœ‰åˆ—è¡¨ï¼‰';
                lastOl.insertAdjacentElement('afterend', indicator);
            } else {
                // å¦‚æœæ²¡æœ‰ç°æœ‰åˆ—è¡¨ï¼Œåˆ›å»ºæ–°çš„
                const batchDiv = document.createElement('div');
                batchDiv.innerHTML = `
                    <div class="batch-indicator">ç¬¬ä¸‰æ‰¹å†…å®¹</div>
                    <ol class="my-4 list-decimal ml-6" start="7">
                        <li class="new-content-block">ç¬¬ä¸ƒä¸ªåˆ—è¡¨é¡¹</li>
                        <li class="new-content-block">ç¬¬å…«ä¸ªåˆ—è¡¨é¡¹</li>
                        <li class="new-content-block">ç¬¬ä¹ä¸ªåˆ—è¡¨é¡¹</li>
                    </ol>
                `;
                content.appendChild(batchDiv);
            }
            
            // è§¦å‘åŠ¨ç”»
            setTimeout(() => {
                content.querySelectorAll('.new-content-block:not(.new-content-show)').forEach(el => {
                    el.classList.add('new-content-show');
                });
            }, 50);
        }
        
        function resetTest() {
            document.getElementById('testContent').innerHTML = '';
        }
    </script>
</body>
</html> 